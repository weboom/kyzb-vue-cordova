{"version":3,"sources":["webpack:///./src/utils/http.js","webpack:///src/App.vue","webpack:///./src/App.vue?32de","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/module/chat.js","webpack:///./src/store/module/user.js","webpack:///./src/store/module/xzProduct.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/config.js","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?37c5","webpack:///./src/views/login/index.vue","webpack:///./src/api/ynow.js"],"names":["axios","interceptors","request","use","config","token","cookies","get","url","Url","query","toString","data","method","qs","stringify","headers","error","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default","a","reject","response","res","retCode","success","Object","__WEBPACK_IMPORTED_MODULE_1_vant_es_toast__","message","vue_esm","tabbar","tabbar_item","App","name","components","LoginPop","views_login","activeIndex","currentRoute","previousRoute","nextRoute","translate","computed","extends_default","vuex_esm","isValidLogin","state","user","watch","$route","handler","val","this","immediate","$store","dispatch","methods","handleChange","index","onLogin","mounted","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","directives","rawName","value","meta","expression","staticClass","on","change","model","callback","$$v","icon","to","_v","class","has-tabbar","click","$event","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","Router","router","routes","path","component","Promise","all","e","then","bind","resolve","scrollBehavior","from","savedPosition","x","y","socketInstance","sortUserList","_ref","userList","msgGroup","chatCompare","chatA","chatB","create_time","values_default","forEach","element","sort","userA","userB","concat","makeMsgGroup","_ref2","userInfo","group","msgList","msg","talkId","f_from","f_to","key","key1","key2","push","chat","namespaced","mutations","getAllMsg","_ref3","msgObj","setMsgGroup","setChatUserList","setMsgList","actions","initSocket","_ref4","rootState","socket","io","wsHost","room","Math","random","transports","handleNewMsg","_ref5","_ref6","commit","console","log","payload","getChatList","_ref7","_this","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","next","api","sent","abrupt","toast","errMsg","stop","sendMsg","_ref8","_ref9","content","emit","scrollToLast","setTimeout","dom","document","querySelector","scrollTop","scrollHeight","switchTalkPage","_ref10","avatar","nickname","module_user","store","loading","showLoginPop","setUserInfo","set","setToken","setSWhowLoginPop","checkLoginState","ynowApi","checkLogin","status","getUserInfo","_this2","_callee2","ret","_context2","t0","login","_this3","mobile","password","onSuccess","_callee3","_context3","register","_this4","_callee4","_context4","closeLoginPop","loginFilter","_ref11","xzProduct","category","list","setCategoryList","setCategoryLoading","getCategory","getXzCategorytList","doDelete","doLike","doCollect","Vuex","Store","getters","modules","VueCorvova","nav_bar","es_button","popup","cell","cell_group","swipe","swipe_item","field","tabs","tab","infiniteScroll","productionTip","el","template","$mount","d","__webpack_exports__","host","tradeWay","props","Function","LOGIN_TYPE","REGISTER_TYPE","authType","disabled","length","redirect","created","handleClick","dispatchName","$router","go","placeholder","type","size","_s","Component","get7nToken","http","post","getUserProfile","uid","updateUserInfo","params","getCheckinStatus","checkin","getCheckinList","getPointList","getdeliveryAddressList","getDemandList","getXzProductList","argv","arguments","categoryId","getXzProductItem","itemId","createXzProduct","updateXzProduct","getMyProduct","getCollect","_ref3$typeId","typeId","undefined","objectId","addCollect","_ref4$typeId","removeCollect","recordId","delete","getCollectState","_ref6$typeId","getChatItem","partnerId","getSfCityList","addAddress","address","street","username","city","province","district","zip","removeAddress","getComment","addComment","_ref12","talkTo","getFollowList","addFollow","_ref13","followId","removeFollow","_ref14","createDemand","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","getDemandItem","_ref15","createEnroll","_ref16","projectId","getEnrollList","_ref17","getEnrollStatus","_ref18","getUserEnrollList","getUserCreateList"],"mappings":"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","file":"js/app.70b1c6446ac9a1be1707.js","sourcesContent":["import qs from 'qs';\r\nimport axios from 'axios';\r\nimport cookies from 'js-cookie';\r\nimport Url from 'url-parse';\r\nimport { Toast } from 'vant';\r\n\r\naxios.interceptors.request.use(\r\n  function(config) {\r\n    const token = cookies.get('token') || '';\r\n\r\n    const url = new Url(config.url, true);\r\n    url.query.token = token;\r\n    config.url = url.toString();\r\n\r\n    if (!config.data) config.data = {};\r\n    if (config.method === 'post') {\r\n      config.data = qs.stringify(config.data);\r\n      config.headers['Content-Type'] = 'application/x-www-form-urlencoded';\r\n    }\r\n    return config;\r\n  },\r\n  function(error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxios.interceptors.response.use(\r\n  response => {\r\n    let res = response.data;\r\n    if (+res.retCode === 0) {\r\n      res.success = true;\r\n    }\r\n    return res;\r\n  },\r\n  error => {\r\n    Toast(error.message);\r\n    Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axios;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http.js","<template>\r\n  <div id=\"app\">\r\n    <van-tabbar\r\n      class=\"tabbar\"\r\n      v-show=\"$route.meta.tabbar\"\r\n      v-model=\"activeIndex\"\r\n      @change=\"handleChange\"\r\n    >\r\n      <van-tabbar-item icon=\"fire\" to=\"/\">大厅</van-tabbar-item>\r\n      <van-tabbar-item icon=\"chat\" to=\"/chat\">聊天</van-tabbar-item>\r\n      <van-tabbar-item icon=\"manager\" to=\"/account\">我的</van-tabbar-item>\r\n    </van-tabbar>\r\n    <router-view class=\"page\" :class=\"[{ 'has-tabbar': $route.meta.tabbar }, $route.name]\" />\r\n    <div class=\"login-pop\" v-show=\"$store.state.user.showLoginPop\">\r\n      <div class=\"header\">\r\n        <van-icon class=\"close-btn\" name=\"cross\" @click=\"$store.dispatch('user/closeLoginPop')\" />\r\n      </div>\r\n      <LoginPop :onLogin=\"onLogin\"></LoginPop>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport { mapState } from 'vuex';\r\nimport { Tabbar, TabbarItem } from 'vant';\r\nimport LoginPop from './views/login';\r\n\r\nVue.use(Tabbar).use(TabbarItem);\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    LoginPop\r\n  },\r\n  data() {\r\n    return {\r\n      activeIndex: 0,\r\n      currentRoute: null,\r\n      previousRoute: null,\r\n      nextRoute: null,\r\n      translate: 'fade'\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      isValidLogin: state => state.user.isValidLogin\r\n    })\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler(val) {\r\n        this.currentRoute = val;\r\n      },\r\n      immediate: true\r\n    },\r\n    isValidLogin: {\r\n      handler(val) {\r\n        if (val) {\r\n          this.$store.dispatch('chat/initSocket');\r\n          this.$store.dispatch('chat/getChatList');\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(index) {\r\n      this.activeIndex = index;\r\n    },\r\n    onLogin() {\r\n      this.$store.dispatch('user/closeLoginPop');\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.dispatch('user/getUserInfo');\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  /deep/ .van-tabbar-item--active {\r\n    color: #009688;\r\n  }\r\n}\r\n\r\n.login-pop {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 998;\r\n  background: #fff;\r\n}\r\n\r\n.has-tabbar {\r\n  padding-bottom: 40px;\r\n}\r\n\r\n.tabbar {\r\n  border-top: 1px solid #f5f5f5;\r\n}\r\n\r\n.fade-leave-active {\r\n  transition: all 0.5s ease;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-active {\r\n  opacity: 0;\r\n}\r\n\r\n.view-login {\r\n  overflow: hidden;\r\n}\r\n\r\n.header {\r\n  text-align: right;\r\n  padding-right: 15px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.close-btn {\r\n  font-size: 24px;\r\n  margin-left: 15px;\r\n  margin-top: 12px;\r\n  color: #c5c4c4;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('van-tabbar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$route.meta.tabbar),expression:\"$route.meta.tabbar\"}],staticClass:\"tabbar\",on:{\"change\":_vm.handleChange},model:{value:(_vm.activeIndex),callback:function ($$v) {_vm.activeIndex=$$v},expression:\"activeIndex\"}},[_c('van-tabbar-item',{attrs:{\"icon\":\"fire\",\"to\":\"/\"}},[_vm._v(\"大厅\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"chat\",\"to\":\"/chat\"}},[_vm._v(\"聊天\")]),_vm._v(\" \"),_c('van-tabbar-item',{attrs:{\"icon\":\"manager\",\"to\":\"/account\"}},[_vm._v(\"我的\")])],1),_vm._v(\" \"),_c('router-view',{staticClass:\"page\",class:[{ 'has-tabbar': _vm.$route.meta.tabbar }, _vm.$route.name]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.user.showLoginPop),expression:\"$store.state.user.showLoginPop\"}],staticClass:\"login-pop\"},[_c('div',{staticClass:\"header\"},[_c('van-icon',{staticClass:\"close-btn\",attrs:{\"name\":\"cross\"},on:{\"click\":function($event){return _vm.$store.dispatch('user/closeLoginPop')}}})],1),_vm._v(\" \"),_c('LoginPop',{attrs:{\"onLogin\":_vm.onLogin}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b376b22\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b376b22\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b376b22\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b376b22\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\n\r\nVue.use(Router);\r\n\r\nconst router = new Router({\r\n  // mode: 'history',\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'welcome',\r\n      component: () => import('../views/welcome'),\r\n      meta: {\r\n        tabbar: true\r\n      }\r\n    },\r\n    {\r\n      path: '/my-project',\r\n      name: 'my-project',\r\n      component: () => import('../views/my-project')\r\n\r\n    },\r\n    {\r\n      path: '/user-enroll-project',\r\n      name: 'user-enroll-project',\r\n      component: () => import('../views/user-enroll-project'),\r\n      meta: {\r\n      }\r\n    },\r\n    {\r\n      path: '/point',\r\n      name: 'point',\r\n      component: () => import('../views/point'),\r\n      meta: {\r\n        tabbar: true\r\n      }\r\n    },\r\n    {\r\n      path: '/project',\r\n      name: 'project',\r\n      component: () => import('../views/project')\r\n    },\r\n    {\r\n      path: '/demand/create',\r\n      name: 'demandCreate',\r\n      component: () => import('../views/demandCreate')\r\n    },\r\n    {\r\n      path: '/project/:itemId',\r\n      name: 'project-show',\r\n      component: () => import('../views/demandItem')\r\n    },\r\n    {\r\n      path: '/account',\r\n      name: 'account',\r\n      component: () => import('../views/account'),\r\n      meta: {\r\n        tabbar: true\r\n      }\r\n    },\r\n    {\r\n      path: '/login',\r\n      name: 'login',\r\n      component: () => import('../views/login')\r\n    },\r\n    {\r\n      path: '/checkin',\r\n      name: 'checkin',\r\n      component: () => import('../views/checkin')\r\n    },\r\n    {\r\n      path: '/userInfo',\r\n      name: 'userInfo',\r\n      component: () => import('../views/userInfo')\r\n    },\r\n    {\r\n      path: '/collect',\r\n      name: 'collect',\r\n      component: () => import('../views/collect')\r\n    },\r\n    {\r\n      path: '/chat',\r\n      name: 'chat',\r\n      component: () => import('../views/chat'),\r\n      meta: {\r\n        tabbar: true\r\n      }\r\n    },\r\n    {\r\n      path: '/chatItem/:partnerId',\r\n      name: 'chatItem',\r\n      component: () => import('../views/chat-item')\r\n    },\r\n    {\r\n      path: '/search',\r\n      name: 'search',\r\n      component: () => import('../views/search')\r\n    },\r\n    {\r\n      path: '*',\r\n      component: () => import('../views/v404')\r\n    }\r\n  ],\r\n  scrollBehavior(to, from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition;\r\n    } else {\r\n      return { x: 0, y: 0 };\r\n    }\r\n  }\r\n});\r\n\r\nexport default router;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import { Toast } from 'vant';\r\nimport io from 'socket.io-client';\r\nimport api from '../../api/ynow';\r\nimport { wsHost } from '../../config';\r\nimport router from '../../router';\r\n\r\n// browser\r\nlet socketInstance = null;\r\n\r\n// 排序\r\nfunction sortUserList({ userList, msgGroup }) {\r\n  let values = Object.values(msgGroup);\r\n  function chatCompare(chatA, chatB) {\r\n    if (chatB.create_time > chatA.create_time) {\r\n      return 1;\r\n    } else if (chatB.create_time === chatA.create_time) {\r\n      return 0;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n  values.forEach(element => {\r\n    element.sort(chatCompare);\r\n  });\r\n  userList.sort((userA, userB) => {\r\n    return chatCompare(msgGroup[userA.id][0], msgGroup[userB.id][0]);\r\n  });\r\n  return [].concat(userList);\r\n}\r\n\r\n// 消息分组\r\nfunction makeMsgGroup({ userInfo, msgList }) {\r\n  const group = {};\r\n  msgList.forEach(msg => {\r\n    if (!msg) return;\r\n    let talkId;\r\n    if (+msg.f_from === +userInfo.id) {\r\n      talkId = `${msg.f_to}`;\r\n    } else {\r\n      talkId = `${msg.f_from}`;\r\n    }\r\n    const key = `${userInfo.id}_${talkId}`;\r\n    const key1 = `${msg.f_from}_${msg.f_to}`;\r\n    const key2 = `${msg.f_to}_${msg.f_from}`;\r\n    if (key === key1 || key === key2) {\r\n      if (!group[talkId]) {\r\n        group[talkId] = [];\r\n      }\r\n      if (group[talkId]) {\r\n        group[talkId].push(msg);\r\n      }\r\n    }\r\n  });\r\n  return group;\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    msgList: [],\r\n    userList: [],\r\n    msgGroup: {}\r\n  },\r\n  mutations: {\r\n    getAllMsg(state, { userList, msgList, msgObj }) {\r\n      state.userList = userList;\r\n      state.msgList = msgList;\r\n      state.msgGroup = msgObj;\r\n    },\r\n    setMsgGroup(state, data) {\r\n      state.msgGroup = data;\r\n    },\r\n    setChatUserList(state, data) {\r\n      state.userList = data;\r\n    },\r\n    setMsgList(state, data) {\r\n      state.msgList = data;\r\n    }\r\n  },\r\n  actions: {\r\n    // 初始化 socket\r\n    initSocket({ dispatch, rootState }) {\r\n      const { userInfo } = rootState.user;\r\n      // 创建连接\r\n      const socket = io(wsHost, {\r\n        query: {\r\n          room: 'demo',\r\n          token: userInfo ? userInfo.token : Math.random()\r\n        },\r\n        transports: ['websocket']\r\n      });\r\n      // 收到新消息\r\n      socket.on(`sendMsg_${userInfo.id}`, msg => {\r\n        dispatch('handleNewMsg', { msg });\r\n      });\r\n      socketInstance = socket;\r\n    },\r\n\r\n    // 新消息\r\n    handleNewMsg({ commit, state, rootState }, { msg }) {\r\n      console.log('新消息', msg.data.payload);\r\n      const { userInfo } = rootState.user;\r\n      let userList = [].concat(state.userList);\r\n      let msgList = [].concat(state.msgList);\r\n\r\n      // 判断发消息的人是否在userList中\r\n      userList.forEach(msg => {\r\n        console.log(msg);\r\n      });\r\n\r\n      msgList.push(msg.data.payload);\r\n      let group = makeMsgGroup({\r\n        userInfo,\r\n        msgList\r\n      });\r\n\r\n      console.log(userList);\r\n      userList = sortUserList({\r\n        userList,\r\n        msgGroup: group\r\n      });\r\n      commit('getAllMsg', {\r\n        msgObj: group,\r\n        msgList,\r\n        userList\r\n      });\r\n    },\r\n\r\n    // 获取所有的聊天信息\r\n    async getChatList({ commit, rootState, dispatch }) {\r\n      const { userInfo } = rootState.user;\r\n      let res = await api.getChatList();\r\n      if (!res) return;\r\n      if (!res.success) {\r\n        return Toast(res.errMsg);\r\n      }\r\n      let msgList = res.data.msgList;\r\n      let userList = res.data.userList;\r\n      let group = makeMsgGroup({\r\n        userInfo,\r\n        msgList\r\n      });\r\n      userList = sortUserList({\r\n        userList,\r\n        msgGroup: group\r\n      });\r\n      commit('getAllMsg', {\r\n        msgObj: group,\r\n        msgList,\r\n        userList\r\n      });\r\n      dispatch('scrollToLast');\r\n    },\r\n\r\n    /**\r\n     * @description 发送新消息\r\n     * @param {String} param0\r\n     * @param {String} param1\r\n     */\r\n    sendMsg({ rootState }, { to, content }) {\r\n      const { userInfo } = rootState.user;\r\n      socketInstance.emit('sendMsg', {\r\n        payload: {\r\n          to,\r\n          content,\r\n          from: userInfo.id\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * @description 滚动页面到底部\r\n     */\r\n    scrollToLast() {\r\n      setTimeout(() => {\r\n        try {\r\n          var dom = document.querySelector('.msg-scroll');\r\n          dom.scrollTop = dom.scrollHeight + 1000;\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      }, 1000);\r\n    },\r\n\r\n    /**\r\n     * @description 跳转到聊天界面\r\n     * @param {String} param0\r\n     * @param {String} user\r\n     */\r\n    switchTalkPage({ commit }, user) {\r\n      router.push({\r\n        path: `/chatItem/${user.id}`,\r\n        query: {\r\n          avatar: user.avatar,\r\n          nickname: user.nickname\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/module/chat.js","import ynowApi from '../../api/ynow';\r\nimport cookies from 'js-cookie';\r\nimport store from 'store';\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: () => {\r\n    return {\r\n      token: '',\r\n      userInfo: store.get('userInfo'),\r\n      loading: false,\r\n      showLoginPop: false,\r\n      isValidLogin: false\r\n    };\r\n  },\r\n  mutations: {\r\n    setUserInfo(state, data) {\r\n      state.userInfo = data;\r\n      store.set('userInfo', data);\r\n      if (data) {\r\n        state.isValidLogin = true;\r\n      } else {\r\n        state.isValidLogin = false;\r\n      }\r\n    },\r\n    setToken(state, data) {\r\n      state.token = data;\r\n      cookies.set('token', data);\r\n    },\r\n    setSWhowLoginPop(state, data) {\r\n      state.showLoginPop = data;\r\n    }\r\n  },\r\n  actions: {\r\n    /**\r\n     * 检查当前用户是否登录\r\n     * @param {*} param0\r\n     * @param {*} param1\r\n     */\r\n    async checkLoginState({ commit }, { success }) {\r\n      let res = await ynowApi.checkLogin();\r\n      if (!res) return;\r\n      if (!res.success) return;\r\n      if (res.data.status === 1) {\r\n        success && success();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 获取用户信息\r\n     * @param {*} param0\r\n     */\r\n    async getUserInfo({ commit }) {\r\n      try {\r\n        let ret = await ynowApi.getUserInfo();\r\n        if (+ret.retCode === 0) {\r\n          commit('setUserInfo', ret.data);\r\n        } else {\r\n          commit('setUserInfo', null);\r\n          // Toast(ret.errMsg)\r\n        }\r\n      } catch (error) {\r\n        commit('setUserInfo', null);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 用户登录\r\n     * @param {*} param0 mobile 账户名\r\n     * @param {*} param1 password 登录密码\r\n     * @param { Function } param2 登录成功后回调 onSuccess\r\n     */\r\n    async login({ commit }, { mobile, password, onSuccess }) {\r\n      if (this.loading) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      try {\r\n        let ret = await ynowApi.login({ mobile, password });\r\n        if (+ret.retCode === 0) {\r\n          commit('setToken', ret.data.token);\r\n          commit('setUserInfo', ret.data);\r\n          onSuccess && onSuccess();\r\n        } else {\r\n          throw ret.errMsg;\r\n        }\r\n      } catch (error) {\r\n        Toast(error.toString());\r\n      }\r\n      this.loading = false;\r\n    },\r\n\r\n    /**\r\n     * 用户注册\r\n     * @param {*} param0 mobile 账户名\r\n     * @param {*} param1 password 登录密码\r\n     */\r\n    async register({ commit }, { mobile, password, onSuccess }) {\r\n      if (this.loading) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      try {\r\n        let ret = await ynowApi.register({ mobile, password });\r\n        if (+ret.retCode === 0) {\r\n          commit('setToken', ret.data.token);\r\n          commit('setUserInfo', ret.data);\r\n          onSuccess && onSuccess();\r\n        } else {\r\n          throw ret.errMsg;\r\n        }\r\n      } catch (error) {\r\n        Toast(error.toString());\r\n      }\r\n      this.loading = false;\r\n    },\r\n\r\n    // 展示登录弹窗\r\n    showLoginPop({ commit }) {\r\n      commit('setSWhowLoginPop', true);\r\n    },\r\n\r\n    // 关闭登录弹窗\r\n    closeLoginPop({ commit }) {\r\n      commit('setSWhowLoginPop', false);\r\n    },\r\n\r\n    // 登录判断\r\n    loginFilter({ commit, state, dispatch }, { onLogin }) {\r\n      if (state.isValidLogin) {\r\n        onLogin && onLogin();\r\n      } else {\r\n        dispatch('showLoginPop');\r\n      }\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/module/user.js","import ynowApi from '../../api/ynow';\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: () => {\r\n    return {\r\n      category: {\r\n        list: [],\r\n        loading: false\r\n      }\r\n    };\r\n  },\r\n  mutations: {\r\n    setCategoryList(state, data) {\r\n      state.category.list = data;\r\n    },\r\n    setCategoryLoading(state, data) {\r\n      state.category.loading = data;\r\n    }\r\n  },\r\n  actions: {\r\n    /**\r\n     * 获取分类\r\n     */\r\n    async getCategory({ commit }) {\r\n      commit('setCategoryLoading', true);\r\n      try {\r\n        let ret = await ynowApi.getXzCategorytList();\r\n        if (+ret.retCode === 0) {\r\n          commit('setCategoryList', ret.data.list);\r\n        } else {\r\n          Toast(ret.errMsg);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      commit('setCategoryLoading', false);\r\n    },\r\n\r\n    // 下架\r\n    async doDelete() {\r\n      // let ret = await ynowApi\r\n    },\r\n    // 点赞\r\n    async doLike() {\r\n    },\r\n    // 收藏\r\n    async doCollect() {\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/module/xzProduct.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nimport chat from './module/chat';\r\nimport user from './module/user';\r\nimport xzProduct from './module/xzProduct';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {},\r\n  getters: {},\r\n  mutations: {},\r\n  actions: {},\r\n  modules: {\r\n    chat,\r\n    user,\r\n    xzProduct\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport store from './store';\r\nimport {\r\n  NavBar,\r\n  Button,\r\n  Icon,\r\n  Toast,\r\n  Popup,\r\n  Cell,\r\n  CellGroup,\r\n  Swipe,\r\n  SwipeItem,\r\n  Field,\r\n  Tabs,\r\n  Tab,\r\n  Loading\r\n} from 'vant';\r\nimport infiniteScroll from 'vue-infinite-scroll';\r\n\r\nimport './assets/styles/base.scss';\r\nimport 'vant/lib/icon/local.css';\r\nimport './assets/styles/cover.scss';\r\n\r\nimport VueCorvova from 'vue-cordova';\r\nVue.use(VueCorvova);\r\n\r\nVue.use(Loading);\r\nVue.use(NavBar);\r\nVue.use(Button);\r\nVue.use(Icon);\r\nVue.use(Toast);\r\nVue.use(Popup);\r\nVue.use(Cell);\r\nVue.use(CellGroup);\r\nVue.use(Swipe);\r\nVue.use(SwipeItem);\r\nVue.use(Field);\r\nVue.use(Tabs);\r\nVue.use(Tab);\r\nVue.use(infiniteScroll);\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  store,\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n}).$mount('#app');\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export const isProd = process.env.NODE_ENV === 'production';\r\nexport const host = isProd ? 'http://kyzb.airtlab.com/api' : 'http://127.0.0.1:8003';\r\nexport const wsHost = isProd ? 'ws://kyzb.airtlab.com:8003' : 'ws://127.0.0.1:8003';\r\n\r\n// export const host = 'http://kyzb.airtlab.com/api';\r\n// export const wsHost = 'ws://kyzb.airtlab.com:8003';\r\n\r\nexport const tradeWay = [\r\n  {\r\n    name: '邮寄',\r\n    id: 1\r\n  },\r\n  {\r\n    name: '自提',\r\n    id: 2\r\n  },\r\n  {\r\n    name: '同城面交',\r\n    id: 3\r\n  }\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","<template>\r\n  <div class=\"view-login\">\r\n    <div class=\"form\">\r\n      <van-cell-group>\r\n        <van-field v-model=\"mobile\" placeholder=\"输入手机号码\" />\r\n        <van-field v-model=\"password\" placeholder=\"输入登录密码\" type=\"password\"/>\r\n      </van-cell-group>\r\n      <van-button\r\n        class=\"button\"\r\n        type=\"primary\"\r\n        size=\"large\"\r\n        :loading=\"loading\"\r\n        :disabled=\"disabled\"\r\n        @click=\"handleClick\">立即{{ authType === LOGIN_TYPE ? '登录' : '注册' }}</van-button\r\n      >\r\n      <div class=\"btm-wrap\">\r\n        <template v-if=\"authType===LOGIN_TYPE\">\r\n          <span>没有账户？</span>\r\n          <span class=\"btn-toggle\" @click=\"authType=REGISTER_TYPE\">注册</span>\r\n        </template>\r\n        <template v-else>\r\n          <span>已有账户？</span>\r\n          <span class=\"btn-toggle\" @click=\"authType=LOGIN_TYPE\">登录</span>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue';\r\nimport { Field, Button } from 'vant';\r\nimport { mapState } from 'vuex';\r\n\r\nVue.use(Field).use(Button);\r\n\r\nconst LOGIN_TYPE = 1;\r\nconst REGISTER_TYPE = 2;\r\n\r\nexport default {\r\n  props: {\r\n    onLogin: Function\r\n  },\r\n  data() {\r\n    return {\r\n      mobile: '',\r\n      password: '',\r\n      LOGIN_TYPE,\r\n      REGISTER_TYPE,\r\n      authType: LOGIN_TYPE\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      loading: state => state.user.loading,\r\n      userInfo: state => state.user.userInfo\r\n    }),\r\n    disabled() {\r\n      return this.mobile.length !== 11 || this.password.length < 6;\r\n    },\r\n    redirect() {\r\n      return this.$route.query.redirect;\r\n    }\r\n  },\r\n  created() {\r\n    if (this.$route.query.authType) {\r\n      this.authType = this.$route.query.authType;\r\n    }\r\n  },\r\n  methods: {\r\n    handleClick() {\r\n      const dispatchName = this.authType === LOGIN_TYPE ? 'user/login' : 'user/register';\r\n      this.$store.dispatch(dispatchName, {\r\n        mobile: this.mobile,\r\n        password: this.password,\r\n        onSuccess: () => {\r\n          if (this.onLogin) {\r\n            return this.onLogin();\r\n          }\r\n          if (this.redirect) {\r\n            this.$router.push(this.redirect);\r\n          } else {\r\n            this.$router.go(-1);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n  padding: 12px;\r\n}\r\n\r\n.button {\r\n  margin-top: 20px;\r\n}\r\n\r\n.btm-wrap {\r\n  color: #999;\r\n  font-size: 14px;\r\n  margin-top: 10px;\r\n  text-align: right;\r\n}\r\n\r\n.btn-toggle {\r\n  color: #07c160;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view-login\"},[_c('div',{staticClass:\"form\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"placeholder\":\"输入手机号码\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"placeholder\":\"输入登录密码\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('van-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"size\":\"large\",\"loading\":_vm.loading,\"disabled\":_vm.disabled},on:{\"click\":_vm.handleClick}},[_vm._v(\"立即\"+_vm._s(_vm.authType === _vm.LOGIN_TYPE ? '登录' : '注册'))]),_vm._v(\" \"),_c('div',{staticClass:\"btm-wrap\"},[(_vm.authType===_vm.LOGIN_TYPE)?[_c('span',[_vm._v(\"没有账户？\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn-toggle\",on:{\"click\":function($event){_vm.authType=_vm.REGISTER_TYPE}}},[_vm._v(\"注册\")])]:[_c('span',[_vm._v(\"已有账户？\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn-toggle\",on:{\"click\":function($event){_vm.authType=_vm.LOGIN_TYPE}}},[_vm._v(\"登录\")])]],2)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b9fbaa0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b9fbaa0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b9fbaa0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b9fbaa0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/index.vue\n// module id = null\n// module chunks = ","import { host } from '../config';\r\nimport http from '../utils/http';\r\n\r\nexport default {\r\n  get7nToken() {\r\n    return http.get(`${host}/upload/getToken`);\r\n  },\r\n  // 登录\r\n  login({ mobile, password }) {\r\n    return http.post(`${host}/user/login`, { mobile, password });\r\n  },\r\n  // 获取用户信息\r\n  getUserInfo() {\r\n    return http.get(`${host}/user/userInfo`);\r\n  },\r\n  // 获取用户介绍信息 ---------------------------------------------------------------------\r\n  getUserProfile({ uid }) {\r\n    return http.get(`${host}/user/profile?uid=${uid}`);\r\n  },\r\n  updateUserInfo(params) {\r\n    return http.post(`${host}/user/userInfo`, params);\r\n  },\r\n  // 获取当天签到状态\r\n  getCheckinStatus() {\r\n    return http.get(`${host}/checkin`);\r\n  },\r\n  // 签到\r\n  checkin() {\r\n    return http.post(`${host}/checkin`);\r\n  },\r\n  // 获取签到信息\r\n  getCheckinList() {\r\n    return http.get(`${host}/checkin/list`);\r\n  },\r\n  // 查询用户积分\r\n  getPointList() {\r\n    return http.get(`${host}/point/list`);\r\n  },\r\n  // 获取收货地址\r\n  getdeliveryAddressList() {\r\n    return http.get(`${host}/deliveryAddress`);\r\n  },\r\n\r\n  // 获取需求列表\r\n  getDemandList(params) {\r\n    return http.get(`http://kyzb.airtlab.com/api/demand`, {\r\n      params: params\r\n    });\r\n  },\r\n\r\n  // 获取闲置商品\r\n  getXzProductList() {\r\n    const argv = arguments[0];\r\n    const categoryId = argv ? argv.categoryId || '' : '';\r\n    return http.get(`${host}/xzProduct?categoryId=${categoryId}`);\r\n  },\r\n\r\n  // 获取闲置商品详情\r\n  getXzProductItem(itemId) {\r\n    return http.get(`${host}/xzProduct/${itemId}`);\r\n  },\r\n\r\n  // 创建 xzProduct\r\n  createXzProduct(params) {\r\n    return http.post(`${host}/xzProduct/`, params);\r\n  },\r\n\r\n  updateXzProduct(params) {\r\n    return http.post(`${host}/xzProduct/${params.itemId}`, params);\r\n  },\r\n\r\n  // 获取我的 xzProduct\r\n  getMyProduct() {\r\n    return http.get(`${host}/user/xzProduct`);\r\n  },\r\n\r\n  // 获取闲置商品分类\r\n  getXzCategorytList() {\r\n    return http.get(`${host}/xzCategory`);\r\n  },\r\n\r\n  // 数据采集模块 ------------------------------------------------------------------------------------------\r\n  // 获取我的收藏\r\n  getCollect({ typeId = 1, objectId }) {\r\n    return http.get(`${host}/collect?typeId=${typeId}&objectId=${objectId}`);\r\n  },\r\n  // 添加收藏\r\n  addCollect({ itemId, objectId, typeId = 1 }) {\r\n    return http.post(`${host}/collect?typeId=${typeId}&objectId=${objectId}`, {\r\n      itemId\r\n    });\r\n  },\r\n  // 删除收藏\r\n  removeCollect({ recordId }) {\r\n    return http.delete(`${host}/collect/${recordId}`);\r\n  },\r\n  // 收藏状态查询\r\n  getCollectState({ itemId, typeId = 1, objectId }) {\r\n    return http.get(\r\n      `${host}/collect/${itemId}?typeId=${typeId}&objectId=${objectId}`\r\n    );\r\n  },\r\n\r\n  // 聊天模块 -----------------------------------------------------------------------------------------------\r\n  getChatList() {\r\n    return http.get(`${host}/chat`);\r\n  },\r\n  // 获取聊天信息\r\n  getChatItem({ partnerId }) {\r\n    return http.get(`${host}/chat/${partnerId}`);\r\n  },\r\n  getSfCityList() {\r\n    return http.get(`${host}/sfCity`);\r\n  },\r\n  // 添加收货地址\r\n  addAddress({\r\n    mobile,\r\n    address,\r\n    street,\r\n    username,\r\n    city,\r\n    province,\r\n    district,\r\n    zip\r\n  }) {\r\n    return http.post(`${host}/deliveryAddress`, {\r\n      mobile,\r\n      address,\r\n      street,\r\n      username,\r\n      city,\r\n      province,\r\n      district,\r\n      zip\r\n    });\r\n  },\r\n  removeAddress({ id }) {\r\n    return http.delete(`${host}/deliveryAddress/${id}`);\r\n  },\r\n  register({ mobile, password }) {\r\n    return http.post(`${host}/user/register`, { mobile, password });\r\n  },\r\n  checkLogin() {\r\n    return http.get(`${host}/user/checkLogin`);\r\n  },\r\n\r\n  // 评论 ---------------------------------------------------------------------------------\r\n  // 获取评论\r\n  getComment({ itemId, typeId }) {\r\n    return http.get(`${host}/comment?itemId=${itemId}&typeId=${typeId}`);\r\n  },\r\n  // 增加评论\r\n  addComment({ itemId, content, talkTo, typeId }) {\r\n    return http.post(`${host}/comment?itemId=${itemId}`, {\r\n      talkTo,\r\n      typeId,\r\n      content\r\n    });\r\n  },\r\n\r\n  // 用户关注模块 -------------------------------------------------------------------------\r\n  // 获取我的关注\r\n  getFollowList() {\r\n    return http.get(`${host}/user/follow`);\r\n  },\r\n  // 添加关注\r\n  addFollow({ followId }) {\r\n    return http.post(`${host}/user/follow`, {\r\n      followId\r\n    });\r\n  },\r\n  // 取消关注\r\n  removeFollow({ followId }) {\r\n    return http.delete(`${host}/user/follow/${followId}`);\r\n  },\r\n\r\n  // 需求模块 -----------------------------------------------------------------------------\r\n  // 创建需求\r\n  createDemand(params) {\r\n    return http.post(`${host}/demand`, {\r\n      ...params\r\n    });\r\n  },\r\n\r\n  // 需求详情\r\n  getDemandItem({ itemId }) {\r\n    return http.get(`${host}/demand/${itemId}`);\r\n  },\r\n\r\n  /**\r\n   * @description: 报名\r\n   * @param {Number} param0 项目ID\r\n   */\r\n  createEnroll({\r\n    projectId\r\n  }) {\r\n    return http.post(`${host}/enroll/?projectId=${projectId}`);\r\n  },\r\n\r\n  /**\r\n   * @description: 报名列表\r\n   * @param {Number} param0\r\n   */\r\n  getEnrollList({\r\n    projectId\r\n  }) {\r\n    return http.get(`${host}/enroll/?projectId=${projectId}`);\r\n  },\r\n\r\n  /**\r\n   * @description: 报名状态\r\n   * @param {Number} param0\r\n   */\r\n  getEnrollStatus({\r\n    projectId\r\n  }) {\r\n    return http.get(`${host}/enrollStatus?projectId=${projectId}`);\r\n  },\r\n\r\n  // 获取指定用户的报名项目\r\n  getUserEnrollList() {\r\n    return http.get(`${host}/userEnrollList`);\r\n  },\r\n\r\n  /**\r\n   * @description 获取当前用户所发布的需求\r\n   */\r\n  getUserCreateList(params) {\r\n    return http.get(`${host}/demand/getUserCreateList`, {\r\n      params: params\r\n    });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/ynow.js"],"sourceRoot":""}